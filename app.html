<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Hello, World! - A-Frame</title>
		<meta name="description" content="Hello, World! - A-Frame">
		<!-- @TODO: suck these all up w/ webpack -->
		<script src="node_modules/aframe/dist/aframe-master.js"></script>
		<script src="node_modules/aframe-template-component/dist/aframe-template-component.min.js"></script>
		<script src="node_modules/aframe-extras/dist/aframe-extras.min.js"></script>
		<script src="./components/hover-handler.js"></script>
		<script src="./components/checkpoint-generator.js"></script>
		<script src="./components/frame-generator.js"></script>
	</head>
	<body>
		<a-scene debug stats fog="type: linear; color: #AAA" frame-generator checkpoint-generator>

			<a-assets>
				<img id="me" src="./assets/images/me.jpg" />
				<script id="checkpoint" type="html">
					<a-cylinder 
						radius="1"
						height="0.1"
						color="#39BB82"
						checkpoint="offset: 0 1.6 0"
						handle-hover>
					</a-cylinder>
				</script>
				<a-asset-item id="frame" src="./assets/models/frame.gltf"></a-asset-item>
			</a-assets>

			<a-grid></a-grid>
			<a-sky color="#6EBAA7"></a-sky>
			<!-- LIGHTING -->
			<a-light type="ambient" color="#fff" intensity="0.5"></a-light>
			<a-light type="spot" position="-5 5 0" penumbra="0.1" rotation="0 -45 0" angle="65" intensity="0.5"></a-light>

			<a-entity camera="userHeight: 1.6"
				universal-controls="movementControls: checkpoint"
				checkpoint-controls="mode: animate; animateSpeed: 10.0">
				<a-entity cursor
				position="0 0 -1"
				geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.02;"
				material="color: #CCC; shader: flat;">
					<a-animation begin="click" easing="ease-in" attribute="scale" fill="backwards" from="0.5 0.5 0.5" to="1 1 1"></a-animation>
					<a-animation begin="cursor-fusing" easing="ease-in" attribute="scale" fill="forwards" from="1 1 1" to="0.5 0.5 0.5"></a-animation>
				</a-entity>
			</a-entity>
		</a-scene>
	</body>
</html>
